{"ast":null,"code":"var _jsxFileName = \"/home/gonzalo/Desktop/pomodoro-clock/src/App.js\";\nimport React from 'react';\nimport './App.css';\nconst SESSION_LENGTH = '25:00';\nconst BREAK_LENGTH = '05:00';\nconst AUDIO_FILE = 'http://sampleswap.org/samples-ghost/%20MAY%202014%20LATEST%20ADDITIONS/PUBLIC%20DOMAIN%20MUSIC/626[kb]buster-brown-gonna-make-you-happy-1943.mp3.mp3';\n\nconst Controller = props => {\n  let lengthNum = props.length;\n  lengthNum = Number(lengthNum.slice(0, lengthNum.indexOf(':')));\n  return React.createElement(\"div\", {\n    className: \"col s6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    id: \"\".concat(props.id, \"-label\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }, props.title), React.createElement(\"div\", {\n    className: \"controller\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn-arrow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    id: \"\".concat(props.id, \"-decrement\"),\n    className: \"fas fa-arrow-down\",\n    onClick: () => props.lengthDecreased(props.title),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  })), React.createElement(\"span\", {\n    id: \"\".concat(props.id, \"-length\"),\n    className: \"length\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, lengthNum), React.createElement(\"button\", {\n    className: \"btn-arrow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    id: \"\".concat(props.id, \"-increment\"),\n    className: \"fas fa-arrow-up\",\n    onClick: () => props.lengthIncreased(props.title),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }))));\n};\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      sessionLength: SESSION_LENGTH,\n      breakLength: BREAK_LENGTH,\n      timeLeft: SESSION_LENGTH,\n      title: 'Pomodoro Clock',\n      running: 0,\n      btnLabel: 'Start',\n      isBreak: 0\n    };\n\n    this.audio = () => document.getElementById('beep');\n\n    this.getMins = length => {\n      return Number(length.slice(0, length.indexOf(':')));\n    };\n\n    this.getSecs = length => {\n      return Number(length.slice(length.indexOf(':') + 1));\n    };\n\n    this.lengthIncreaseHandler = cat => {\n      if (this.state.running === 1) {\n        return;\n      }\n\n      if (cat === 'Break Length') {\n        let valCurrent = this.getMins(this.state.breakLength);\n\n        if (valCurrent === 60) {\n          return;\n        }\n\n        valCurrent += 1;\n        this.setState({\n          breakLength: \"\".concat(valCurrent, \":00\")\n        });\n      } else if (cat === 'Session Length') {\n        let valCurrent = this.getMins(this.state.sessionLength);\n\n        if (valCurrent === 60) {\n          return;\n        }\n\n        valCurrent += 1;\n        this.setState({\n          sessionLength: \"\".concat(valCurrent, \":00\"),\n          timeLeft: \"\".concat(valCurrent, \":00\")\n        });\n      }\n    };\n\n    this.lengthDecreaseHandler = cat => {\n      if (this.state.running === 1) {\n        return;\n      }\n\n      if (cat === 'Break Length') {\n        let valCurrent = this.getMins(this.state.breakLength);\n\n        if (valCurrent === 1) {\n          return;\n        }\n\n        valCurrent -= 1;\n        this.setState({\n          breakLength: \"\".concat(valCurrent, \":00\")\n        });\n      } else if (cat === 'Session Length') {\n        let valCurrent = this.getMins(this.state.sessionLength);\n\n        if (valCurrent === 1) {\n          return;\n        }\n\n        valCurrent -= 1;\n        this.setState({\n          sessionLength: \"\".concat(valCurrent, \":00\"),\n          timeLeft: \"\".concat(valCurrent, \":00\")\n        });\n      }\n    };\n\n    this.startClickHandler = () => {\n      if (this.state.running === 0) {\n        if (this.state.isBreak === 1) {\n          this.audio().play();\n          this.setState({\n            title: 'Break',\n            running: 1,\n            btnLabel: 'Pause'\n          });\n        } else {\n          this.audio().pause();\n          this.setState({\n            title: 'Session',\n            running: 1,\n            btnLabel: 'Pause'\n          });\n        }\n\n        let timer = this.getMins(this.state.timeLeft) * 60 + this.getSecs(this.state.timeLeft);\n        /* the timer interval */\n\n        this.timerInterval = setInterval(() => {\n          /* the timer reaches 00:00 */\n          if (timer === 0 && this.state.isBreak === 0) {\n            this.audio().play();\n            this.setState({\n              isBreak: 1,\n              timeLeft: this.state.breakLength,\n              title: 'Break'\n            });\n            timer = this.getMins(this.state.timeLeft) * 60 + this.getSecs(this.state.timeLeft) + 1;\n            /* the break is over */\n          } else if (timer === 0 && this.state.isBreak === 1) {\n            this.audio().pause();\n            this.audio().currentTime = 0;\n            this.setState({\n              isBreak: 0,\n              timeLeft: this.state.sessionLength,\n              title: 'Session'\n            });\n            timer = this.getMins(this.state.timeLeft) * 60 + this.getSecs(this.state.timeLeft) + 1;\n          }\n\n          timer -= 1;\n          let mins = Math.floor(timer / 60);\n          mins = mins < 10 ? \"0\".concat(mins) : mins;\n          let secs = timer % 60 > 9 ? timer % 60 : \"0\".concat(timer % 60);\n          this.setState({\n            timeLeft: \"\".concat(mins, \":\").concat(secs)\n          });\n        }, 1000);\n      } else {\n        this.audio().pause();\n        clearInterval(this.timerInterval);\n        this.setState({\n          title: 'Paused',\n          running: 0,\n          btnLabel: 'Resume'\n        });\n      }\n    };\n\n    this.resetClickHandler = () => {\n      this.audio().pause();\n      this.audio().currentTime = 0;\n      clearInterval(this.timerInterval);\n      this.setState({\n        sessionLength: SESSION_LENGTH,\n        breakLength: BREAK_LENGTH,\n        timeLeft: SESSION_LENGTH,\n        title: 'Pomodoro Clock',\n        running: 0,\n        btnLabel: 'Start',\n        isBreak: 0\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s12 m8 offset-m2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"timer-label\",\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, this.state.title), React.createElement(\"h1\", {\n      id: \"time-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, this.state.timeLeft), React.createElement(\"button\", {\n      id: \"start_stop\",\n      className: \"btn\",\n      onClick: this.startClickHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, this.state.btnLabel), React.createElement(\"button\", {\n      id: \"reset\",\n      className: \"btn red\",\n      onClick: this.resetClickHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, \"Reset\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(Controller, {\n      title: \"Break Length\",\n      id: \"break\",\n      length: this.state.breakLength,\n      lengthDecreased: this.lengthDecreaseHandler,\n      lengthIncreased: this.lengthIncreaseHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }), React.createElement(Controller, {\n      title: \"Session Length\",\n      id: \"session\",\n      length: this.state.sessionLength,\n      lengthDecreased: this.lengthDecreaseHandler,\n      lengthIncreased: this.lengthIncreaseHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    })))))))), React.createElement(\"audio\", {\n      id: \"beep\",\n      preload: \"auto\",\n      src: \"https://goo.gl/65cBl1\",\n      ref: audio => {\n        this.audioBeep = audio;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/gonzalo/Desktop/pomodoro-clock/src/App.js"],"names":["React","SESSION_LENGTH","BREAK_LENGTH","AUDIO_FILE","Controller","props","lengthNum","length","Number","slice","indexOf","id","title","lengthDecreased","lengthIncreased","App","Component","state","sessionLength","breakLength","timeLeft","running","btnLabel","isBreak","audio","document","getElementById","getMins","getSecs","lengthIncreaseHandler","cat","valCurrent","setState","lengthDecreaseHandler","startClickHandler","play","pause","timer","timerInterval","setInterval","currentTime","mins","Math","floor","secs","clearInterval","resetClickHandler","render","audioBeep"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css'\n\nconst SESSION_LENGTH = '25:00';\nconst BREAK_LENGTH = '05:00';\nconst AUDIO_FILE =\n  'http://sampleswap.org/samples-ghost/%20MAY%202014%20LATEST%20ADDITIONS/PUBLIC%20DOMAIN%20MUSIC/626[kb]buster-brown-gonna-make-you-happy-1943.mp3.mp3';\n\nconst Controller = props => {\n  let lengthNum = props.length;\n  lengthNum = Number(lengthNum.slice(0, lengthNum.indexOf(':')));\n\n  return (\n    <div className=\"col s6\">\n      <h5 id={`${props.id}-label`}>{props.title}</h5>\n      <div className=\"controller\">\n        <button className=\"btn-arrow\">\n          <i\n            id={`${props.id}-decrement`}\n            className=\"fas fa-arrow-down\"\n            onClick={() => props.lengthDecreased(props.title)}\n          />\n        </button>\n        <span id={`${props.id}-length`} className=\"length\">\n          {lengthNum}\n        </span>\n        <button className=\"btn-arrow\">\n          <i\n            id={`${props.id}-increment`}\n            className=\"fas fa-arrow-up\"\n            onClick={() => props.lengthIncreased(props.title)}\n          />\n        </button>\n      </div>\n    </div>\n  );\n};\n\nclass App extends React.Component {\n state = {\n    sessionLength: SESSION_LENGTH,\n    breakLength: BREAK_LENGTH,\n    timeLeft: SESSION_LENGTH,\n    title: 'Pomodoro Clock',\n    running: 0,\n    btnLabel: 'Start',\n    isBreak: 0\n  };\n\n  /* Helper function to grab the audio element */\n  audio = () => document.getElementById('beep');\n\n  /* Helper function to get the minutes in numerical format */\n  getMins = length => {\n    return Number(length.slice(0, length.indexOf(':')));\n  };\n\n  /* Helper function to get the seconds in numerical format */\n  getSecs = length => {\n    return Number(length.slice(length.indexOf(':') + 1));\n  };\n\n  /* Increase a duration on a controller */\n  lengthIncreaseHandler = cat => {\n    if (this.state.running === 1) {\n      return;\n    }\n\n    if (cat === 'Break Length') {\n      let valCurrent = this.getMins(this.state.breakLength);\n      if (valCurrent === 60) {\n        return;\n      }\n      valCurrent += 1;\n      this.setState({ breakLength: `${valCurrent}:00` });\n    } else if (cat === 'Session Length') {\n      let valCurrent = this.getMins(this.state.sessionLength);\n      if (valCurrent === 60) {\n        return;\n      }\n      valCurrent += 1;\n      this.setState({\n        sessionLength: `${valCurrent}:00`,\n        timeLeft: `${valCurrent}:00`\n      });\n    }\n  };\n\n  /* Decrease a duration on a controller */\n  lengthDecreaseHandler = cat => {\n    if (this.state.running === 1) {\n      return;\n    }\n\n    if (cat === 'Break Length') {\n      let valCurrent = this.getMins(this.state.breakLength);\n      if (valCurrent === 1) {\n        return;\n      }\n      valCurrent -= 1;\n      this.setState({ breakLength: `${valCurrent}:00` });\n    } else if (cat === 'Session Length') {\n      let valCurrent = this.getMins(this.state.sessionLength);\n      if (valCurrent === 1) {\n        return;\n      }\n      valCurrent -= 1;\n      this.setState({\n        sessionLength: `${valCurrent}:00`,\n        timeLeft: `${valCurrent}:00`\n      });\n    }\n  };\n\n  /* Click the Start Button */\n  startClickHandler = () => {\n    if (this.state.running === 0) {\n      if (this.state.isBreak === 1) {\n        this.audio().play();\n        this.setState({\n          title: 'Break',\n          running: 1,\n          btnLabel: 'Pause'\n        });\n      } else {\n        this.audio().pause();\n        this.setState({\n          title: 'Session',\n          running: 1,\n          btnLabel: 'Pause'\n        });\n      }\n\n      let timer =\n        this.getMins(this.state.timeLeft) * 60 +\n        this.getSecs(this.state.timeLeft);\n\n      /* the timer interval */\n      this.timerInterval = setInterval(() => {\n        /* the timer reaches 00:00 */\n        if (timer === 0 && this.state.isBreak === 0) {\n          this.audio().play();\n          this.setState({\n            isBreak: 1,\n            timeLeft: this.state.breakLength,\n            title: 'Break'\n          });\n          timer =\n            this.getMins(this.state.timeLeft) * 60 +\n            this.getSecs(this.state.timeLeft) +\n            1;\n          /* the break is over */\n        } else if (timer === 0 && this.state.isBreak === 1) {\n          this.audio().pause();\n          this.audio().currentTime = 0;\n          this.setState({\n            isBreak: 0,\n            timeLeft: this.state.sessionLength,\n            title: 'Session'\n          });\n          timer =\n            this.getMins(this.state.timeLeft) * 60 +\n            this.getSecs(this.state.timeLeft) +\n            1;\n        }\n        timer -= 1;\n        let mins = Math.floor(timer / 60);\n        mins = mins < 10 ? `0${mins}` : mins;\n        let secs = timer % 60 > 9 ? timer % 60 : `0${timer % 60}`;\n        this.setState({\n          timeLeft: `${mins}:${secs}`\n        });\n      }, 1000);\n    } else {\n      this.audio().pause();\n      clearInterval(this.timerInterval);\n      this.setState({\n        title: 'Paused',\n        running: 0,\n        btnLabel: 'Resume'\n      });\n    }\n  };\n\n  /* Click the Reset Button */\n  resetClickHandler = () => {\n    this.audio().pause();\n    this.audio().currentTime = 0;\n    clearInterval(this.timerInterval);\n\n    this.setState({\n      sessionLength: SESSION_LENGTH,\n      breakLength: BREAK_LENGTH,\n      timeLeft: SESSION_LENGTH,\n      title: 'Pomodoro Clock',\n      running: 0,\n      btnLabel: 'Start',\n      isBreak: 0\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <section className=\"section\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col s12 m8 offset-m2\">\n                <div className=\"card\">\n                  <div className=\"card-content\">\n                    <div id=\"timer-label\" className=\"card-title\">\n                      {this.state.title}\n                    </div>\n                    <h1 id=\"time-left\">{this.state.timeLeft}</h1>\n                    <button\n                      id=\"start_stop\"\n                      className=\"btn\"\n                      onClick={this.startClickHandler}\n                    >\n                      {this.state.btnLabel}\n                    </button>\n                    <button\n                      id=\"reset\"\n                      className=\"btn red\"\n                      onClick={this.resetClickHandler}\n                    >\n                      Reset\n                    </button>\n                    <div className=\"row\">\n                      <Controller\n                        title=\"Break Length\"\n                        id=\"break\"\n                        length={this.state.breakLength}\n                        lengthDecreased={this.lengthDecreaseHandler}\n                        lengthIncreased={this.lengthIncreaseHandler}\n                      />\n                      <Controller\n                        title=\"Session Length\"\n                        id=\"session\"\n                        length={this.state.sessionLength}\n                        lengthDecreased={this.lengthDecreaseHandler}\n                        lengthIncreased={this.lengthIncreaseHandler}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n       <audio id=\"beep\" preload=\"auto\" \n          src=\"https://goo.gl/65cBl1\"\n          ref={(audio) => { this.audioBeep = audio; }} />\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}